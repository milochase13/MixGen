{"ast":null,"code":"import _regeneratorRuntime from\"/Users/milochase/Desktop/playlist-generator/playlist-generator-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/milochase/Desktop/playlist-generator/playlist-generator-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/milochase/Desktop/playlist-generator/playlist-generator-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import logo from'./logo.svg';import'./App.css';import'./form.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function Playlist(props){return/*#__PURE__*/_jsxs(\"div\",{class:\"white-space-pre-line\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"html\",children:[\"Playlist for \",/*#__PURE__*/_jsxs(\"span\",{class:\"App-prompt\",children:[props.prompt,\":\"]})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",props.result]});}function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),prompt=_useState2[0],setPrompt=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),result=_useState4[0],setResult=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),numSongs=_useState6[0],setNumSongs=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),title=_useState8[0],setTitle=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),inputError=_useState10[0],setInputError=_useState10[1];var handleNumSongsChange=function handleNumSongsChange(event){setNumSongs(event.target.value);};var handlePromptChange=function handlePromptChange(event){setPrompt(event.target.value);};var handleTitleChange=function handleTitleChange(event){setTitle(event.target.value);};var handleGoBack=function handleGoBack(_){setResult('');setPrompt('');setNumSongs('');setTitle('');setInputError(null);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var app_response,app_response_json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(prompt.length<=0)){_context.next=6;break;}setInputError('Please provide a playlist description!');return _context.abrupt(\"return\");case 6:if(!(numSongs<=0)){_context.next=11;break;}setInputError('Please request a number of songs greater than 0!');return _context.abrupt(\"return\");case 11:setInputError(null);case 12:_context.prev=12;_context.next=15;return fetch('/api/submit',{method:'POST',headers:{'Content-Type':'application/json','Access-Control-Allow-Origin':'*'},body:JSON.stringify({\"prompt\":prompt,\"num_songs\":numSongs,\"title\":title})});case 15:app_response=_context.sent;if(!app_response.ok){_context.next=21;break;}app_response_json=app_response.json();app_response_json.then(function(data){return setResult(data[\"playlist\"]);});_context.next=22;break;case 21:throw new Error('Request failed with status '+app_response.status);case 22:_context.next=27;break;case 24:_context.prev=24;_context.t0=_context[\"catch\"](12);console.error(_context.t0);case 27:case\"end\":return _context.stop();}},_callee,null,[[12,24]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{class:\"html\",children:[!result&&/*#__PURE__*/_jsxs(\"div\",{class:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"cta-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create a new playlist!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Submit the form to create an AI generated playlist from your liked songs.\"})]}),/*#__PURE__*/_jsxs(\"form\",{class:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{class:\"form__input\",type:\"text\",value:title,onChange:handleTitleChange,placeholder:\"Title\"}),/*#__PURE__*/_jsx(\"label\",{class:\"form__label\",htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form__input\",type:\"text\",value:prompt,onChange:handlePromptChange,placeholder:\"Prompt\"}),/*#__PURE__*/_jsx(\"label\",{for:\"prompt\",class:\"form__label\",htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form__input\",type:\"number\",step:\"1\",value:numSongs,onChange:handleNumSongsChange,placeholder:\"Length\"}),/*#__PURE__*/_jsx(\"label\",{for:\"songs\",class:\"form__label\",htmlFor:\"num_songs\",children:\"Length\"}),inputError&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:inputError}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"playlist\",children:[result&&/*#__PURE__*/_jsx(Playlist,{prompt:prompt,result:result}),/*#__PURE__*/_jsx(\"br\",{}),result&&/*#__PURE__*/_jsx(\"button\",{onClick:handleGoBack,children:\"Go Back\"})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","logo","jsxs","_jsxs","jsx","_jsx","Playlist","props","class","children","prompt","result","App","_useState","_useState2","_slicedToArray","setPrompt","_useState3","_useState4","setResult","_useState5","_useState6","numSongs","setNumSongs","_useState7","_useState8","title","setTitle","_useState9","_useState10","inputError","setInputError","handleNumSongsChange","event","target","value","handlePromptChange","handleTitleChange","handleGoBack","_","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","app_response","app_response_json","wrap","_callee$","_context","prev","next","preventDefault","length","abrupt","fetch","method","headers","body","JSON","stringify","sent","ok","json","then","data","Error","status","t0","console","error","stop","_x","apply","arguments","onSubmit","type","onChange","placeholder","htmlFor","for","step","style","color","onClick"],"sources":["/Users/milochase/Desktop/playlist-generator/playlist-generator-app/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport logo from './logo.svg';\nimport './App.css';\nimport './form.css';\n\nfunction Playlist(props) {\n  return(\n  <div class=\"white-space-pre-line\"> \n    <div class=\"html\">Playlist for <span class=\"App-prompt\">{props.prompt}:</span> \n    </div> <br/> {props.result}\n  </div>\n  )\n}\n\nfunction App() {\n  const [prompt, setPrompt] = useState('');\n  const [result, setResult] = useState('');\n  const [numSongs, setNumSongs] = useState('');\n  const [title, setTitle] = useState('');\n  const [inputError, setInputError] = useState(null);\n\n  const handleNumSongsChange = (event) => {\n    setNumSongs(event.target.value);\n  };\n  const handlePromptChange = (event) => {\n    setPrompt(event.target.value);\n  };\n  const handleTitleChange = (event) => {\n    setTitle(event.target.value);\n  };\n  const handleGoBack = (_) => {\n    setResult('');\n    setPrompt('');\n    setNumSongs('');\n    setTitle('');\n    setInputError(null);\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (prompt.length <= 0){\n      setInputError('Please provide a playlist description!');\n      return\n    }\n    else if (numSongs <= 0){\n      setInputError('Please request a number of songs greater than 0!');\n      return\n    }\n    else{\n      setInputError(null);\n    }\n    try {\n      const app_response = await fetch('/api/submit', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n        },\n        body: JSON.stringify({ \"prompt\": prompt, \"num_songs\": numSongs, \"title\": title}),\n      });\n  \n      if (app_response.ok) {\n        const app_response_json = app_response.json();\n        app_response_json.then(data => setResult(data[\"playlist\"]));\n      } else {\n        throw new Error('Request failed with status ' + app_response.status);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <div class=\"html\">\n       {/* Form */}\n      {!result && \n      <div class=\"container\">\n        <div class=\"cta-form\">\n          <h2>Create a new playlist!</h2> \n          <p>Submit the form to create an AI generated playlist from your liked songs.</p>\n        </div>\n        <form class=\"form\"  onSubmit={handleSubmit}>\n      \n          <input class=\"form__input\" type=\"text\" value={title} onChange={handleTitleChange} placeholder=\"Title\" />\n          <label class=\"form__label\" htmlFor=\"title\">Title</label>\n          \n          <input class=\"form__input\" type=\"text\" value={prompt} onChange={handlePromptChange} placeholder=\"Prompt\"/>\n          <label for=\"prompt\" class=\"form__label\" htmlFor=\"description\">Description</label>\n          \n          <input class=\"form__input\" type=\"number\" step=\"1\" value = {numSongs} onChange={handleNumSongsChange} placeholder=\"Length\" /> \n          <label for=\"songs\" class=\"form__label\" htmlFor=\"num_songs\">Length</label>\n\n          {inputError && <div style={{ color: 'red' }}>{inputError}</div>}\n          <button type=\"submit\">Submit</button>\n        </form>\n      </div> }\n\n      {/* Result */}\n      <div class=\"playlist\">\n      {result && <Playlist prompt={prompt} result = {result}/>}\n      <br/>\n      { result && <button onClick={handleGoBack}>\n        Go Back\n      </button>\n      }\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}